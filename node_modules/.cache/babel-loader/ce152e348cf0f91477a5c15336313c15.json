{"ast":null,"code":"(function (window) {\n  var TwitterWidgetsLoader = {\n    src: 'https://platform.twitter.com/widgets.js',\n    loading: false,\n    listeners: [],\n    interval: 50,\n    load: function load(callback) {\n      var _this = this;\n\n      if (callback) {\n        this.listeners.push(callback);\n      }\n\n      if (window.twttr && window.twttr.widgets) {\n        setTimeout(function () {\n          _this._done();\n        });\n        return;\n      }\n\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = this.src;\n      script.addEventListener('error', function () {\n        _this._done(new Error('Twitter widgets JS failed to load. Is there an ad blocker enabled?'));\n      });\n      document.body.appendChild(script);\n\n      this._poll();\n    },\n    _poll: function _poll() {\n      if (window.twttr && window.twttr.widgets) {\n        return this._done();\n      }\n\n      var _this = this;\n\n      setTimeout(function () {\n        _this._poll();\n      }, this.interval);\n    },\n    _done: function _done(error) {\n      while (this.listeners.length) {\n        this.listeners.pop()(error, window.twttr);\n      }\n    }\n  };\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = TwitterWidgetsLoader;\n  } else {\n    window.TwitterWidgetsLoader = TwitterWidgetsLoader;\n  }\n})(window);","map":null,"metadata":{},"sourceType":"script"}